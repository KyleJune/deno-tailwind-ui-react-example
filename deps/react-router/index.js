/*
esm.sh - esbuild bundle(react-router@6.2.1) deno production
https://cdn.esm.sh/v58/react-router@6.2.1/deno/react-router.js
*/
import{createContext as P,useRef as S,useState as I,useLayoutEffect as U,createElement as N,useContext as d,useEffect as D,useMemo as w,useCallback as j,Children as F,isValidElement as J,Fragment as H}from"https://cdn.esm.sh/v58/react@17.0.2/deno/react.js";import{createMemoryHistory as Y,Action as z,parsePath as y}from"https://cdn.esm.sh/v58/history@5.1.0/deno/history.js";function h(e,t){if(!e)throw new Error(t)}var b=P(null),x=P(null),E=P({outlet:null,matches:[]});function Ee(e){let{basename:t,children:n,initialEntries:a,initialIndex:o}=e,s=S();s.current==null&&(s.current=Y({initialEntries:a,initialIndex:o}));let r=s.current,[i,l]=I({action:r.action,location:r.location});return U(()=>r.listen(l),[r]),N(G,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:r})}function Re(e){let{to:t,replace:n,state:a}=e;v()||h(!1);let o=q();return D(()=>{o(t,{replace:n,state:a})}),null}function k(e){return K(e.context)}function A(e){h(!1)}function G(e){let{basename:t="/",children:n=null,location:a,navigationType:o=z.Pop,navigator:s,static:r=!1}=e;v()&&h(!1);let i=me(t),l=w(()=>({basename:i,navigator:s,static:r}),[i,s,r]);typeof a=="string"&&(a=y(a));let{pathname:c="/",search:u="",hash:f="",state:g=null,key:R="default"}=a,p=w(()=>{let V=M(c,i);return V==null?null:{pathname:V,search:u,hash:f,state:g,key:R}},[i,c,u,f,g,R]);return p==null?null:N(b.Provider,{value:l},N(x.Provider,{children:n,value:{location:p,navigationType:o}}))}function Pe(e){let{children:t,location:n}=e;return X(_(t),n)}function we(e){v()||h(!1);let{basename:t,navigator:n}=d(b),{hash:a,pathname:o,search:s}=Q(e),r=o;if(t!=="/"){let i=fe(e),l=i!=null&&i.endsWith("/");r=o==="/"?t+(l?"/":""):m([t,o])}return n.createHref({pathname:r,search:s,hash:a})}function v(){return d(x)!=null}function O(){return v()||h(!1),d(x).location}function xe(){return d(x).navigationType}function Oe(e){v()||h(!1);let{pathname:t}=O();return w(()=>L(e,t),[t,e])}function q(){v()||h(!1);let{basename:e,navigator:t}=d(b),{matches:n}=d(E),{pathname:a}=O(),o=JSON.stringify(n.map(i=>i.pathnameBase)),s=S(!1);return D(()=>{s.current=!0}),j(function(i,l){if(l===void 0&&(l={}),!s.current)return;if(typeof i=="number"){t.go(i);return}let c=T(i,JSON.parse(o),a);e!=="/"&&(c.pathname=m([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state)},[e,t,o,a])}var C=P(null);function be(){return d(C)}function K(e){let t=d(E).outlet;return t&&N(C.Provider,{value:e},t)}function _e(){let{matches:e}=d(E),t=e[e.length-1];return t?t.params:{}}function Q(e){let{matches:t}=d(E),{pathname:n}=O(),a=JSON.stringify(t.map(o=>o.pathnameBase));return w(()=>T(e,JSON.parse(a),n),[e,a,n])}function X(e,t){v()||h(!1);let{matches:n}=d(E),a=n[n.length-1],o=a?a.params:{},s=a?a.pathname:"/",r=a?a.pathnameBase:"/",i=a&&a.route,l=O(),c;if(t){var u;let p=typeof t=="string"?y(t):t;r==="/"||((u=p.pathname)==null?void 0:u.startsWith(r))||h(!1),c=p}else c=l;let f=c.pathname||"/",g=r==="/"?f:f.slice(r.length)||"/",R=Z(e,{pathname:g});return $(R&&R.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:m([r,p.pathname]),pathnameBase:p.pathnameBase==="/"?r:m([r,p.pathnameBase])})),n)}function _(e){let t=[];return F.forEach(e,n=>{if(!J(n))return;if(n.type===H){t.push.apply(t,_(n.props.children));return}n.type!==A&&h(!1);let a={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(a.children=_(n.props.children)),t.push(a)}),t}function Ve(e,t){return t===void 0&&(t={}),e.replace(/:(\w+)/g,(n,a)=>(t[a]==null&&h(!1),t[a])).replace(/\/*\*$/,n=>t["*"]==null?"":t["*"].replace(/^\/*/,"/"))}function Z(e,t,n){n===void 0&&(n="/");let a=typeof t=="string"?y(t):t,o=M(a.pathname||"/",n);if(o==null)return null;let s=W(e);ee(s);let r=null;for(let i=0;r==null&&i<s.length;++i)r=ue(s[i],o);return r}function W(e,t,n,a){return t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a=""),e.forEach((o,s)=>{let r={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};r.relativePath.startsWith("/")&&(r.relativePath.startsWith(a)||h(!1),r.relativePath=r.relativePath.slice(a.length));let i=m([a,r.relativePath]),l=n.concat(r);o.children&&o.children.length>0&&(o.index===!0&&h(!1),W(o.children,t,l,i)),!(o.path==null&&!o.index)&&t.push({path:i,score:se(i,o.index),routesMeta:l})}),t}function ee(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:le(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var te=/^:\w+$/,ne=3,ae=2,oe=1,re=10,ie=-2,B=e=>e==="*";function se(e,t){let n=e.split("/"),a=n.length;return n.some(B)&&(a+=ie),t&&(a+=ae),n.filter(o=>!B(o)).reduce((o,s)=>o+(te.test(s)?ne:s===""?oe:re),a)}function le(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function ue(e,t){let{routesMeta:n}=e,a={},o="/",s=[];for(let r=0;r<n.length;++r){let i=n[r],l=r===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=L({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!u)return null;Object.assign(a,u.params);let f=i.route;s.push({params:a,pathname:m([o,u.pathname]),pathnameBase:m([o,u.pathnameBase]),route:f}),u.pathnameBase!=="/"&&(o=m([o,u.pathnameBase]))}return s}function Se(e){return $(e)}function $(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((n,a,o)=>N(E.Provider,{children:a.route.element!==void 0?a.route.element:N(k,null),value:{outlet:n,matches:t.concat(e.slice(0,o+1))}}),null)}function L(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=ce(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],r=s.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:a.reduce((c,u,f)=>{if(u==="*"){let g=i[f]||"";r=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return c[u]=he(i[f]||"",u),c},{}),pathname:s,pathnameBase:r,pattern:e}}function ce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(r,i)=>(a.push(i),"([^\\/]+)"));return e.endsWith("*")?(a.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(o,t?void 0:"i"),a]}function he(e,t){try{return decodeURIComponent(e)}catch{return e}}function pe(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:o=""}=typeof e=="string"?y(e):e;return{pathname:n?n.startsWith("/")?n:de(n,t):t,search:ve(a),hash:ge(o)}}function de(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function T(e,t,n){let a=typeof e=="string"?y(e):e,o=e===""||a.pathname===""?"/":a.pathname,s;if(o==null)s=n;else{let i=t.length-1;if(o.startsWith("..")){let l=o.split("/");for(;l[0]==="..";)l.shift(),i-=1;a.pathname=l.join("/")}s=i>=0?t[i]:"/"}let r=pe(a,s);return o&&o!=="/"&&o.endsWith("/")&&!r.pathname.endsWith("/")&&(r.pathname+="/"),r}function fe(e){return e===""||e.pathname===""?"/":typeof e=="string"?y(e).pathname:e.pathname}function M(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}var m=e=>e.join("/").replace(/\/\/+/g,"/"),me=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ve=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ge=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;export{Ee as MemoryRouter,Re as Navigate,k as Outlet,A as Route,G as Router,Pe as Routes,x as UNSAFE_LocationContext,b as UNSAFE_NavigationContext,E as UNSAFE_RouteContext,_ as createRoutesFromChildren,Ve as generatePath,L as matchPath,Z as matchRoutes,Se as renderMatches,pe as resolvePath,we as useHref,v as useInRouterContext,O as useLocation,Oe as useMatch,q as useNavigate,xe as useNavigationType,K as useOutlet,be as useOutletContext,_e as useParams,Q as useResolvedPath,X as useRoutes};
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
